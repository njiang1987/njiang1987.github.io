<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="天空の城">
<meta property="og:url" content="http://www.njiang.cn/page/12/index.html">
<meta property="og:site_name" content="天空の城">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="天空の城">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.njiang.cn/page/12/"/>





  <title> 天空の城 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-43682645-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">天空の城</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">愤怒的程序员，梦想着有一天也能飞！</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.njiang.cn/2013/09/04/ios-guan-yu-shi-xian-ios7-shang-mian-blur-xiao-guo-de-shi-xian/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="姜楠">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="天空の城">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="天空の城" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/09/04/ios-guan-yu-shi-xian-ios7-shang-mian-blur-xiao-guo-de-shi-xian/" itemprop="url">
                  [原创][iOS]关于实现iOS7上面Blur效果的实现
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-09-04T00:00:00+08:00">
              2013-09-04
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-26T16:40:34+08:00">
              2016-12-26
            </time>
            
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/09/04/ios-guan-yu-shi-xian-ios7-shang-mian-blur-xiao-guo-de-shi-xian/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/09/04/ios-guan-yu-shi-xian-ios7-shang-mian-blur-xiao-guo-de-shi-xian/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前几个月iOS7发布，说实话界面扁平化，个人不是很喜欢，但是它的一些效果还是比较炫的，比如Blur效果，看下图<br><a href="http://www.njiang1987.com/wp-content/uploads/2013/09/photo1_normal.png" target="_blank" rel="external"><img src="http://www.njiang1987.com/wp-content/uploads/2013/09/photo1_normal-169x300.png" alt="photo1_normal" width="169" height="300" class="alignnone size-medium wp-image-43"></a>  <a href="http://www.njiang1987.com/wp-content/uploads/2013/09/photo2_normal.png" target="_blank" rel="external"><img src="http://www.njiang1987.com/wp-content/uploads/2013/09/photo2_normal-169x300.png" alt="photo2_normal" width="169" height="300" class="alignnone size-medium wp-image-44"></a><br>右边的图片，有个Blur效果，最近PM正想将这个效果添加到我们的产品中，查看网上说，苹果是通过直接从GPU里面取出图片信息，然后render出来的，也没有公用的API可以调用。不过有类似的方法可以模拟这个效果，比如Gaussian Blur，这个是通过CoreImage.framework里面的CIFilter实现的，具体实现如下：<br><pre lang="objc" colla="+"><br>CGImageRef imageRef = CGImageCreateWithImageInRect(image.CGImage, frame);<br><br>CIImage <em>imageToBlur = [CIImage imageWithCGImage:imageRef];<br>CIFilter </em>blurFilter = [CIFilter filterWithName:@”CIGaussianBlur”];<br>[blurFilter setValue:imageToBlur forKey:@”inputImage”];<br>[blurFilter setValue:[NSNumber numberWithFloat:0.1f] forKey:@”inputRadius”];<br>CIImage<em> result = [blurFilter valueForKey:@”outputImage”];<br><br>CIContext</em> context = [CIContext contextWithOptions:nil];<br>CGImageRef cgImage = [context createCGImage:result fromRect:[imageToBlur extent]];<br><br>UIImage* newImage = [UIImage imageWithCGImage:cgImage];<br></pre><br>这样就可以得到一个模糊的效果。但是这种模糊有2个缺点：<br><br>1.如果设置的半径比较大，效率会很低<br><br>2.模糊以后的效果不好</p>

<p>后来在网上查到可以用boxblur算法，这个会用到Accelerate.framework里面的一个函数vImageBoxConvolve_ARGB8888，具体实现如下：<br><pre lang="objc" colla="+"><br>- (UIImage<em>)imageWithBoxBlur:(CGFloat)blur withBoxSize:(int)iSize<br>{<br>    if (blur &lt; 0.f || blur &gt; 1.f) {<br>        blur = 0.5f;<br>    }<br>    int boxSize = (int)(blur </em> iSize);<br>    boxSize = boxSize - (boxSize % 2) + 1;</pre></p>

<p>    CGImageRef img = self.CGImage;<br><br>    vImage_Buffer inBuffer, outBuffer;<br><br>    vImage_Error error;<br><br>    void *pixelBuffer;</p>

<p>    //create vImage_Buffer with data from CGImageRef<br><br>    CGDataProviderRef inProvider = CGImageGetDataProvider(img);<br><br>    CFDataRef inBitmapData = CGDataProviderCopyData(inProvider);</p>

<p>    inBuffer.width = CGImageGetWidth(img);<br><br>    inBuffer.height = CGImageGetHeight(img);<br><br>    inBuffer.rowBytes = CGImageGetBytesPerRow(img);</p>

<p>    inBuffer.data = (void*)CFDataGetBytePtr(inBitmapData);</p>

<p>    //create vImage_Buffer for output<br><br>    pixelBuffer = malloc(CGImageGetBytesPerRow(img) * CGImageGetHeight(img));</p>

<p>    if(pixelBuffer == NULL)<br><br>        NSLog(@”No pixelbuffer”);</p>

<p>    outBuffer.data = pixelBuffer;<br><br>    outBuffer.width = CGImageGetWidth(img);<br><br>    outBuffer.height = CGImageGetHeight(img);<br><br>    outBuffer.rowBytes = CGImageGetBytesPerRow(img);</p>

<p>    //perform convolution<br><br>    error = vImageBoxConvolve_ARGB8888(&amp;inBuffer, &amp;outBuffer, NULL, 0, 0, boxSize, boxSize, NULL, kvImageEdgeExtend);</p>

<p>    if (error) {<br><br>        NSLog(@”error from convolution %ld”, error);<br><br>    }</p>

<p>    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();<br><br>    CGContextRef ctx = CGBitmapContextCreate(outBuffer.data,<br><br>                                             outBuffer.width,<br><br>                                             outBuffer.height,<br><br>                                             8,<br><br>                                             outBuffer.rowBytes,<br><br>                                             colorSpace,<br><br>                                             (CGBitmapInfo)kCGImageAlphaNoneSkipLast);<br><br>    CGImageRef imageRef = CGBitmapContextCreateImage (ctx);<br><br>    UIImage *returnImage = [UIImage imageWithCGImage:imageRef];</p>

<p>    //clean up<br><br>    CGContextRelease(ctx);<br><br>    CGColorSpaceRelease(colorSpace);</p>

<p>    free(pixelBuffer);<br><br>    //free(pixelBuffer2);<br><br>    CFRelease(inBitmapData);</p>

<p>    CGColorSpaceRelease(colorSpace);<br><br>    CGImageRelease(imageRef);</p>

<p>    return returnImage;<br><br>}<br><br>这个boxblur有个2个优点：<br><br>1. 速度很快<br><br>2. 模糊以后的效果很好<br><br>正好弥补了Gaussian Blur的缺点，但是这个boxblur也有个致命的缺点就是，如果一张图片既有深色区域又有浅色区域，模糊以后，深色区域的颜色就不对了。过几天我再来补图。<br><br>后来无意中发现，如果先用Gaussian blur以后，再用boxblur几次，效果比较好。还是过几天来补图，呵呵，这几天比较忙，一直在做PM的Spec，虽然都是界面的东西，对我一个计算机半路出家的人来说还是优点难度的。以下是效果图，外加公司的产品。<br><br>[caption id=”attachment_48” align=”aligncenter” width=”300”]<a href="http://www.njiang1987.com/wp-content/uploads/2013/09/iOS-Simulator-Screen-shot-Sep-4-2013-7.43.34-PM.png" target="_blank" rel="external"><img src="http://www.njiang1987.com/wp-content/uploads/2013/09/iOS-Simulator-Screen-shot-Sep-4-2013-7.43.34-PM-300x225.png" alt="blur以后的效果图" width="300" height="225" class="size-medium wp-image-48"></a> blur以后的效果图[/caption]</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.njiang.cn/2013/09/02/guan-yu-zen-yao-yong-instrumentcha-kan-object-retainqing-kuang/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="姜楠">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="天空の城">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="天空の城" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/09/02/guan-yu-zen-yao-yong-instrumentcha-kan-object-retainqing-kuang/" itemprop="url">
                  关于怎么用Instrument查看object retain情况
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-09-02T13:53:06+08:00">
              2013-09-02
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-26T16:40:34+08:00">
              2016-12-26
            </time>
            
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/09/02/guan-yu-zen-yao-yong-instrumentcha-kan-object-retainqing-kuang/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/09/02/guan-yu-zen-yao-yong-instrumentcha-kan-object-retainqing-kuang/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>You can use the Allocations instrument to track the lifecycle of your objects. If you use the “Allocations” template, it is configured to record malloc and free events. You may want to configure it to also record retain, release, and autorelease events by turning on the “Record reference counts” checkbox in the Allocations instrument settings:</p>
<p><img alt="record reference counts checkbox" src="http://i.stack.imgur.com/SotDR.png"></p>
<p>(You cannot toggle this while Instruments is recording, which it starts by default as soon as you choose your template.)</p>
<p>After your run, you can find your objects using the Allocations &gt; Statistics &gt; Object Summary view, which is the default setting for the Detail pane (the bottom half of the window):</p>
<p><img alt="Object Summary setting for Detail pane" src="http://i.stack.imgur.com/08ued.png"></p>
<p>If you want to see objects that had been deallocated before you stopped the run, you need to change the Allocation Lifespan setting from “Created &amp; Still Living” (the default) to “All Objects Created”:</p>
<p><img alt="Allocation Lifespan setting" src="http://i.stack.imgur.com/4SVf2.png"></p>
<p>To find objects of a specific class, start by typing the class name into the Search field at the right end of the window toolbar. Then find the class name in the Category column of the list view, mouse over it, and click the arrow that appears next to it. For example, my app has a class named Tile, so I search for that and then click the arrow next to Tile in the list view:</p>
<p><img alt="Searching" src="http://i.stack.imgur.com/GtLnh.gif"></p>
<p>Now the list view shows every instance of Tile. (Note that you have to enter the actual class of the object, not a superclass. Entering NSObject will only find objects that were created by [NSObject alloc], not objects that were created by [Tile alloc].) I can see the history for any particular instance by clicking the arrow next to that instance’s address:</p>
<p><img alt="Getting detail" src="http://i.stack.imgur.com/53Lou.gif"></p>
<p>In the detail view for an object, I can see the malloc and free events and, since I turned on “Record reference counts”, I can also see the retain, release, and autorelease messages and their effect on the object’s retain count. If I want to see the call stack for any of those events, I can open the extended detail panel on the right side of the window:</p>
<p><img alt="extended detail of call stack" src="http://i.stack.imgur.com/KKrT1.gif"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.njiang.cn/2013/09/02/xcode-guan-yu-zen-me-yong-instrument-cha-kan-object-retain-qing-kuang/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="姜楠">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="天空の城">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="天空の城" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/09/02/xcode-guan-yu-zen-me-yong-instrument-cha-kan-object-retain-qing-kuang/" itemprop="url">
                  [XCode] 关于怎么用Instrument查看object retain情况
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-09-02T00:00:00+08:00">
              2013-09-02
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-26T16:40:34+08:00">
              2016-12-26
            </time>
            
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/09/02/xcode-guan-yu-zen-me-yong-instrument-cha-kan-object-retain-qing-kuang/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/09/02/xcode-guan-yu-zen-me-yong-instrument-cha-kan-object-retain-qing-kuang/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>【转自】<a link="http://stackoverflow.com/questions/14890402/instruments-allocations-track-alloc-and-dealloc-of-objects-of-user-defined-class">http://stackoverflow.com/questions/14890402/instruments-allocations-track-alloc-and-dealloc-of-objects-of-user-defined-class</a></p>

<p>You can use the Allocations instrument to track the lifecycle of your objects. If you use the “Allocations” template, it is configured to record <code>malloc</code> and <code>free</code> events. You may want to configure it to also record <code>retain</code>, <code>release</code>, and <code>autorelease</code> events by turning on the “Record reference counts” checkbox in the Allocations instrument settings:</p>

<p><img alt="record reference counts checkbox" src="http://i.stack.imgur.com/SotDR.png"></p>

<p>{You cannot toggle this while Instruments is recording, which it starts by default as soon as you choose your template.)</p>

<p>After your run, you can find your objects using the Allocations &gt; Statistics &gt; Object Summary view, which is the default setting for the Detail pane (the bottom half of the window):</p>

<p><img alt="Object Summary setting for Detail pane" src="http://i.stack.imgur.com/08ued.png"></p>

<p>If you want to see objects that had been deallocated before you stopped the run, you need to change the Allocation Lifespan setting from “Created &amp; Still Living” (the default) to “All Objects Created”:</p>

<p><img alt="Allocation Lifespan setting" src="http://i.stack.imgur.com/4SVf2.png"></p>

<p>To find objects of a specific class, start by typing the class name into the Search field at the right end of the window toolbar. Then find the class name in the Category column of the list view, mouse over it, and click the arrow that appears next to it. For example, my app has a class named <code>Tile</code>, so I search for that and then click the arrow next to <code>Tile</code> in the list view:</p>

<p><img alt="Searching" src="http://i.stack.imgur.com/GtLnh.gif"></p>

<p>Now the list view shows every instance of <code>Tile</code>. (Note that you have to enter the actual class of the object, not a superclass. Entering <code>NSObject</code> will only find objects that were created by <code>[NSObject alloc]</code>, not objects that were created by <code>[Tile alloc]</code>.) I can see the history for any particular instance by clicking the arrow next to that instance’s address:</p>

<p><img alt="Getting detail" src="http://i.stack.imgur.com/53Lou.gif"></p>

<p>In the detail view for an object, I can see the <code>malloc</code> and <code>free</code> events and, since I turned on “Record reference counts”, I can also see the <code>retain</code>, <code>release</code>, and <code>autorelease</code> messages and their effect on the object’s retain count. If I want to see the call stack for any of those events, I can open the extended detail panel on the right side of the window:</p>

<p><img alt="extended detail of call stack" src="http://i.stack.imgur.com/KKrT1.gif"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.njiang.cn/2013/08/31/2009_problem-a-alien-language1/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="姜楠">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="天空の城">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="天空の城" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/08/31/2009_problem-a-alien-language1/" itemprop="url">
                  2009 Problem A. Alien Language1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-08-31T20:44:32+08:00">
              2013-08-31
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-26T16:40:34+08:00">
              2016-12-26
            </time>
            
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/08/31/2009_problem-a-alien-language1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/08/31/2009_problem-a-alien-language1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Problem</p>
<p>After years of study, scientists at Google Labs have discovered an alien language transmitted from a faraway planet. The alien language is very unique in that every word consists of exactly L lowercase letters. Also, there are exactly D words in this language.</p>
<p>Once the dictionary of all the words in the alien language was built, the next breakthrough was to discover that the aliens have been transmitting messages to Earth for the past decade. Unfortunately, these signals are weakened due to the distance between our two planets and some of the words may be misinterpreted. In order to help them decipher these messages, the scientists have asked you to devise an algorithm that will determine the number of possible interpretations for a given pattern.</p>
<p>A pattern consists of exactly L tokens. Each token is either a single lowercase letter (the scientists are very sure that this is the letter) or a group of unique lowercase letters surrounded by parenthesis ( and ). For example: (ab)d(dc) means the first letter is either a or b, the second letter is definitely d and the last letter is either d or c. Therefore, the pattern (ab)d(dc) can stand for either one of these 4 possibilities: add, adc, bdd, bdc.</p>
<p>Input</p>
<p>The first line of input contains 3 integers, L, D and N separated by a space. D lines follow, each containing one word of length L. These are the words that are known to exist in the alien language. N test cases then follow, each on its own line and each consisting of a pattern as described above. You may assume that all known words provided are unique.</p>
<p>Output</p>
<p>For each test case, output <br><br>Case #X: K<br>where X is the test case number, starting from 1, and K indicates how many words in the alien language match the pattern.</p>
<p>Limits <br><br>Small dataset <br><br>1 ≤ L ≤ 10 <br><br>1 ≤ D ≤ 25 <br><br>1 ≤ N ≤ 10 <br></p>
<p>Large dataset<br><br>1 ≤ L ≤ 15 <br><br>1 ≤ D ≤ 5000 <br><br>1 ≤ N ≤ 500 <br></p>
<figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// CodeJamPratice.cpp : Defines the entry point for the console application.</span></div><div class="line"><span class="comment">//</span></div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdafx.h"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"> </div><div class="line"><span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])</div><div class="line">&#123;</div><div class="line">	freopen(<span class="string">"../debug/A-large-practice.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">"../debug/A-large-practice.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</div><div class="line"> </div><div class="line">	<span class="built_in">string</span> str;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; words;</div><div class="line"> </div><div class="line">	<span class="keyword">int</span> lenStr, numWord, numCase;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;lenStr, &amp;numWord, &amp;numCase);</div><div class="line">	str.resize(lenStr);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numWord; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, &amp;str[<span class="number">0</span>]);</div><div class="line">		words.push_back(str);</div><div class="line">	&#125;</div><div class="line"> </div><div class="line">	str.resize(<span class="number">500</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCase; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, &amp;str[<span class="number">0</span>]);</div><div class="line">		<span class="keyword">int</span> dict[<span class="number">26</span>][<span class="number">15</span>] = &#123;<span class="number">0</span>&#125;;</div><div class="line">		<span class="keyword">bool</span> isInSet = <span class="literal">false</span>;</div><div class="line">		<span class="keyword">int</span> col = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; str.length(); j++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(str[j] == <span class="string">'\0'</span>) <span class="keyword">break</span>;</div><div class="line">			<span class="keyword">if</span>(str[j] == <span class="string">'('</span>) &#123;isInSet = <span class="literal">true</span>; <span class="keyword">continue</span>;&#125;</div><div class="line">			<span class="keyword">if</span>(str[j] == <span class="string">')'</span>) &#123;isInSet = <span class="literal">false</span>; col++; <span class="keyword">continue</span>;&#125;</div><div class="line">			<span class="keyword">char</span> c = str[j];</div><div class="line">			dict[c - <span class="string">'a'</span>][col] = <span class="number">1</span>;</div><div class="line">			<span class="keyword">if</span>(!isInSet)</div><div class="line">				col++;</div><div class="line">		&#125;</div><div class="line"> </div><div class="line">		<span class="keyword">int</span> num = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; numWord; j++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">bool</span> isValid = <span class="literal">true</span>;</div><div class="line">			<span class="built_in">string</span> word = words[j];</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; lenStr; k++)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">char</span> c = word[k];</div><div class="line">				<span class="keyword">if</span>(dict[c - <span class="string">'a'</span>][k] == <span class="number">0</span>)</div><div class="line">					isValid = <span class="literal">false</span>;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span>(isValid)</div><div class="line">				num++;</div><div class="line">		&#125;</div><div class="line"> </div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>, i+<span class="number">1</span>, num);</div><div class="line">	&#125;</div><div class="line"> </div><div class="line">	fclose(<span class="built_in">stdin</span>);</div><div class="line">	fclose(<span class="built_in">stdout</span>);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.njiang.cn/2013/08/31/problem-b-always-turn-left/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="姜楠">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="天空の城">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="天空の城" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/08/31/problem-b-always-turn-left/" itemprop="url">
                  Problem B. Always Turn Left
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-08-31T10:40:14+08:00">
              2013-08-31
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-26T16:40:34+08:00">
              2016-12-26
            </time>
            
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/08/31/problem-b-always-turn-left/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/08/31/problem-b-always-turn-left/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Problem</p>
<p>You find yourself standing outside of a perfect maze. A maze is defined as “perfect” if it meets the following conditions:</p>
<p>It is a rectangular grid of rooms, R rows by C columns.<br>There are exactly two openings on the outside of the maze: the entrance and the exit. The entrance is always on the north wall, while the exit could be on any wall.<br>There is exactly one path between any two rooms in the maze (that is, exactly one path that does not involve backtracking).<br>You decide to solve the perfect maze using the “always turn left” algorithm, which states that you take the leftmost fork at every opportunity. If you hit a dead end, you turn right twice (180 degrees clockwise) and continue. (If you were to stick out your left arm and touch the wall while following this algorithm, you’d solve the maze without ever breaking contact with the wall.) Once you finish the maze, you decide to go the extra step and solve it again (still always turning left), but starting at the exit and finishing at the entrance.</p>
<p>The path you take through the maze can be described with three characters: ‘W’ means to walk forward into the next room, ‘L’ means to turn left (or counterclockwise) 90 degrees, and ‘R’ means to turn right (or clockwise) 90 degrees. You begin outside the maze, immediately adjacent to the entrance, facing the maze. You finish when you have stepped outside the maze through the exit. For example, if the entrance is on the north and the exit is on the west, your path through the following maze would be WRWWLWWLWWLWLWRRWRWWWRWWRWLW:</p>
<p>If the entrance and exit were reversed such that you began outside the west wall and finished out the north wall, your path would be WWRRWLWLWWLWWLWWRWWRWWLW. Given your two paths through the maze (entrance to exit and exit to entrance), your code should return a description of the maze.</p>
<p>Input</p>
<p>The first line of input gives the number of cases, N. N test cases follow. Each case is a line formatted as</p>
<p>entrance_to_exit exit_to_entrance<br>All paths will be at least two characters long, consist only of the characters ‘W’, ‘L’, and ‘R’, and begin and end with ‘W’.</p>
<p>Output</p>
<p>For each test case, output one line containing “Case #x:” by itself. The next R lines give a description of the R by C maze. There should be C characters in each line, representing which directions it is possible to walk from that room. Refer to the following legend:</p>
<p>Character Can walk north? Can walk south? Can walk west? Can walk east? <br><br>1    Yes    No    No    No <br><br>2    No    Yes    No    No <br><br>3    Yes    Yes    No    No <br><br>4    No    No    Yes    No <br><br>5    Yes    No    Yes    No <br><br>6    No    Yes    Yes    No <br><br>7    Yes    Yes    Yes    No <br><br>8    No    No    No    Yes <br><br>9    Yes    No    No    Yes <br><br>a    No    Yes    No    Yes <br><br>b    Yes    Yes    No    Yes <br><br>c    No    No    Yes    Yes <br><br>d    Yes    No    Yes    Yes <br><br>e    No    Yes    Yes    Yes <br><br>f    Yes    Yes    Yes    Yes <br></p>
<p>Limits<br>1 ≤ N ≤ 100.</p>
<p>Small dataset  <br><br>2 ≤ len(entrance_to_exit) ≤ 100,<br>2 ≤ len(exit_to_entrance) ≤ 100.</p>
<p>Large dataset  <br><br>2 ≤ len(entrance_to_exit) ≤ 10000,<br>2 ≤ len(exit_to_entrance) ≤ 10000.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// CodeJamPratice.cpp : Defines the entry point for the console application.</span></div><div class="line"><span class="comment">//</span></div><div class="line"> </div><div class="line"><span class="meta">#include <span class="meta-string">"stdafx.h"</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;fstream&gt;</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;sstream&gt;</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line">using namespace std;</div><div class="line"> </div><div class="line"><span class="keyword">struct</span> Direction</div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> v;</div><div class="line">	<span class="keyword">int</span> l;</div><div class="line">	<span class="keyword">int</span> r;</div><div class="line">	<span class="keyword">int</span> b;</div><div class="line">public:</div><div class="line">	Direction(<span class="keyword">int</span> lv, <span class="keyword">int</span> ll, <span class="keyword">int</span> lr, <span class="keyword">int</span> lb): v(lv), l(ll), r(lr), b(lb)&#123;&#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="keyword">const</span> Direction east((<span class="number">1</span> &lt;&lt; <span class="number">3</span>), <span class="number">1</span>, (<span class="number">1</span> &lt;&lt; <span class="number">1</span>), (<span class="number">1</span> &lt;&lt; <span class="number">2</span>));</div><div class="line"><span class="keyword">const</span> Direction west((<span class="number">1</span> &lt;&lt; <span class="number">2</span>), (<span class="number">1</span> &lt;&lt; <span class="number">1</span>), <span class="number">1</span>, (<span class="number">1</span> &lt;&lt; <span class="number">3</span>));</div><div class="line"><span class="keyword">const</span> Direction south((<span class="number">1</span> &lt;&lt; <span class="number">1</span>), (<span class="number">1</span> &lt;&lt; <span class="number">3</span>), (<span class="number">1</span> &lt;&lt; <span class="number">2</span>), <span class="number">1</span>);</div><div class="line"><span class="keyword">const</span> Direction north(<span class="number">1</span>, (<span class="number">1</span> &lt;&lt; <span class="number">2</span>), (<span class="number">1</span> &lt;&lt; <span class="number">3</span>), (<span class="number">1</span> &lt;&lt; <span class="number">1</span>));</div><div class="line"> </div><div class="line"><span class="keyword">static</span> Direction cur = south;</div><div class="line"> </div><div class="line"><span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])</div><div class="line">&#123;</div><div class="line">	freopen(<span class="string">"../debug/B-large-practice.in"</span>, <span class="string">"r"</span>, stdin);</div><div class="line">	freopen(<span class="string">"../debug/B-large-practice.out"</span>, <span class="string">"w"</span>, stdout);</div><div class="line"> </div><div class="line">	<span class="keyword">int</span> numCase;</div><div class="line">	scanf(<span class="string">"%d"</span>, &amp;numCase);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; numCase; c++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">char</span> entrance_to_exit[<span class="number">10001</span>] = &#123;<span class="number">0</span>&#125;;</div><div class="line">		<span class="keyword">char</span> exit_to_entrance[<span class="number">10001</span>] = &#123;<span class="number">0</span>&#125;;</div><div class="line">		scanf(<span class="string">"%s %s"</span>, entrance_to_exit, exit_to_entrance);</div><div class="line">		cur = south;</div><div class="line">		<span class="keyword">int</span> lmap[<span class="number">200</span>][<span class="number">400</span>] = &#123;<span class="number">0</span>&#125;;</div><div class="line">		<span class="keyword">int</span> left = <span class="number">200</span>, right = <span class="number">200</span>, bottom = <span class="number">0</span>;</div><div class="line">		<span class="keyword">int</span> row = <span class="number">-1</span>, col = <span class="number">200</span>;</div><div class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">		<span class="keyword">while</span>(entrance_to_exit[i] != <span class="string">'\0'</span>)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">char</span> t = entrance_to_exit[i];</div><div class="line">			<span class="keyword">switch</span>(t)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">case</span> <span class="string">'W'</span>: </div><div class="line">					&#123;</div><div class="line">						lmap[row][col] |= cur.v;</div><div class="line">						<span class="keyword">if</span>(entrance_to_exit[i+<span class="number">1</span>] == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">						<span class="keyword">if</span>(cur.v == east.v) &#123;</div><div class="line">							col++; </div><div class="line">							<span class="keyword">if</span>(col &gt; right) right = col;</div><div class="line">						&#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur.v == west.v)&#123;</div><div class="line">							col--;</div><div class="line">							<span class="keyword">if</span>(col &lt; left) left = col;</div><div class="line">						&#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur.v == south.v)&#123;</div><div class="line">							row++;</div><div class="line">							<span class="keyword">if</span>(row &gt; bottom) bottom = row;</div><div class="line">						&#125;<span class="keyword">else</span>&#123;</div><div class="line">							row--;</div><div class="line">						&#125;</div><div class="line">						lmap[row][col] |= cur.b;</div><div class="line">						<span class="keyword">break</span>;</div><div class="line">					&#125;</div><div class="line">				<span class="keyword">case</span> <span class="string">'L'</span>: </div><div class="line">					&#123;</div><div class="line">						<span class="keyword">switch</span>(cur.l)&#123;</div><div class="line">							<span class="keyword">case</span> <span class="number">1</span>: cur = north; <span class="keyword">break</span>;</div><div class="line">							<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">1</span>): cur = south; <span class="keyword">break</span>;</div><div class="line">							<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">2</span>): cur = west; <span class="keyword">break</span>;</div><div class="line">							<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">3</span>): cur = east; <span class="keyword">break</span>;</div><div class="line">							<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">						&#125;</div><div class="line">						<span class="keyword">break</span>;</div><div class="line">					&#125;</div><div class="line">				<span class="keyword">case</span> <span class="string">'R'</span>: </div><div class="line">					&#123;</div><div class="line">						<span class="keyword">if</span>(entrance_to_exit[i+<span class="number">1</span>] == <span class="string">'R'</span>)&#123;</div><div class="line">							<span class="keyword">switch</span>(cur.b)&#123;</div><div class="line">								<span class="keyword">case</span> <span class="number">1</span>: cur = north; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">1</span>): cur = south; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">2</span>): cur = west; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">3</span>): cur = east; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">							&#125;</div><div class="line">							i++;</div><div class="line">						&#125;<span class="keyword">else</span>&#123;</div><div class="line">							<span class="keyword">switch</span>(cur.r)&#123;</div><div class="line">								<span class="keyword">case</span> <span class="number">1</span>: cur = north; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">1</span>): cur = south; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">2</span>): cur = west; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">3</span>): cur = east; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">							&#125;</div><div class="line">						&#125;</div><div class="line">						<span class="keyword">break</span>;</div><div class="line">					&#125;</div><div class="line">				<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">			i++;</div><div class="line">		&#125;</div><div class="line"> </div><div class="line">		i = <span class="number">0</span>;</div><div class="line">		<span class="keyword">if</span>(cur.v == east.v) &#123;</div><div class="line">			col++; </div><div class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur.v == west.v)&#123;</div><div class="line">			col--;</div><div class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur.v == south.v)&#123;</div><div class="line">			row++;</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			row--;</div><div class="line">		&#125;</div><div class="line"> </div><div class="line">		<span class="keyword">switch</span>(cur.b)&#123;</div><div class="line">			<span class="keyword">case</span> <span class="number">1</span>: cur = north; <span class="keyword">break</span>;</div><div class="line">			<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">1</span>): cur = south; <span class="keyword">break</span>;</div><div class="line">			<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">2</span>): cur = west; <span class="keyword">break</span>;</div><div class="line">			<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">3</span>): cur = east; <span class="keyword">break</span>;</div><div class="line">			<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">		&#125;</div><div class="line"> </div><div class="line"> </div><div class="line">		<span class="keyword">while</span>(exit_to_entrance[i] != <span class="string">'\0'</span>)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">char</span> t = exit_to_entrance[i];</div><div class="line">			<span class="keyword">switch</span>(t)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">case</span> <span class="string">'W'</span>: </div><div class="line">					&#123;</div><div class="line">						lmap[row][col] |= cur.v;</div><div class="line">						<span class="keyword">if</span>(exit_to_entrance[i+<span class="number">1</span>] == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">						<span class="keyword">if</span>(cur.v == east.v) &#123;</div><div class="line">							col++; </div><div class="line">							<span class="keyword">if</span>(col &gt; right) right = col;</div><div class="line">						&#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur.v == west.v)&#123;</div><div class="line">							col--;</div><div class="line">							<span class="keyword">if</span>(col &lt; left) left = col;</div><div class="line">						&#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur.v == south.v)&#123;</div><div class="line">							row++;</div><div class="line">							<span class="keyword">if</span>(row &gt; bottom) bottom = row;</div><div class="line">						&#125;<span class="keyword">else</span>&#123;</div><div class="line">							row--;</div><div class="line">						&#125;</div><div class="line">						lmap[row][col] |= cur.b;</div><div class="line">						<span class="keyword">break</span>;</div><div class="line">					&#125;</div><div class="line">				<span class="keyword">case</span> <span class="string">'L'</span>: </div><div class="line">					&#123;</div><div class="line">						<span class="keyword">switch</span>(cur.l)&#123;</div><div class="line">							<span class="keyword">case</span> <span class="number">1</span>: cur = north; <span class="keyword">break</span>;</div><div class="line">							<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">1</span>): cur = south; <span class="keyword">break</span>;</div><div class="line">							<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">2</span>): cur = west; <span class="keyword">break</span>;</div><div class="line">							<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">3</span>): cur = east; <span class="keyword">break</span>;</div><div class="line">							<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">						&#125;</div><div class="line">						<span class="keyword">break</span>;</div><div class="line">					&#125;</div><div class="line">				<span class="keyword">case</span> <span class="string">'R'</span>: </div><div class="line">					&#123;</div><div class="line">						<span class="keyword">if</span>(exit_to_entrance[i+<span class="number">1</span>] == <span class="string">'R'</span>)&#123;</div><div class="line">							<span class="keyword">switch</span>(cur.b)&#123;</div><div class="line">								<span class="keyword">case</span> <span class="number">1</span>: cur = north; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">1</span>): cur = south; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">2</span>): cur = west; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">3</span>): cur = east; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">							&#125;</div><div class="line">							i++;</div><div class="line">						&#125;<span class="keyword">else</span>&#123;</div><div class="line">							<span class="keyword">switch</span>(cur.r)&#123;</div><div class="line">								<span class="keyword">case</span> <span class="number">1</span>: cur = north; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">1</span>): cur = south; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">2</span>): cur = west; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">case</span> (<span class="number">1</span> &lt;&lt; <span class="number">3</span>): cur = east; <span class="keyword">break</span>;</div><div class="line">								<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">							&#125;</div><div class="line">						&#125;</div><div class="line">						<span class="keyword">break</span>;</div><div class="line">					&#125;</div><div class="line">				<span class="keyword">default</span>: <span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">			i++;</div><div class="line">		&#125;</div><div class="line"> </div><div class="line"> </div><div class="line">		printf(<span class="string">"Case #%d:\n"</span>, c+<span class="number">1</span>);</div><div class="line">		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt;= bottom; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = left; j &lt;= right; j++)</div><div class="line">			&#123;</div><div class="line">				printf(<span class="string">"%x"</span>, lmap[i][j]);</div><div class="line">			&#125;</div><div class="line">			printf(<span class="string">"\n"</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"> </div><div class="line"> </div><div class="line">	fclose(stdin);</div><div class="line">	fclose(stdout);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.njiang.cn/2013/08/31/codejam2009problem-a-alien-language1/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="姜楠">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="天空の城">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="天空の城" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/08/31/codejam2009problem-a-alien-language1/" itemprop="url">
                  [CodeJam]2009Problem A. Alien Language1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-08-31T00:00:00+08:00">
              2013-08-31
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-26T16:40:34+08:00">
              2016-12-26
            </time>
            
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/08/31/codejam2009problem-a-alien-language1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/08/31/codejam2009problem-a-alien-language1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://code.google.com/codejam/contest/90101/dashboard" title="2009 Qualification Round" target="_blank" rel="external">2009 Qualification Round</a><br>Problem</p>

<p>After years of study, scientists at Google Labs have discovered an alien language transmitted from a faraway planet. The alien language is very unique in that every word consists of exactly L lowercase letters. Also, there are exactly D words in this language.</p>

<p>Once the dictionary of all the words in the alien language was built, the next breakthrough was to discover that the aliens have been transmitting messages to Earth for the past decade. Unfortunately, these signals are weakened due to the distance between our two planets and some of the words may be misinterpreted. In order to help them decipher these messages, the scientists have asked you to devise an algorithm that will determine the number of possible interpretations for a given pattern.</p>

<p>A pattern consists of exactly L tokens. Each token is either a single lowercase letter (the scientists are very sure that this is the letter) or a group of unique lowercase letters surrounded by parenthesis ( and ). For example: (ab)d(dc) means the first letter is either a or b, the second letter is definitely d and the last letter is either d or c. Therefore, the pattern (ab)d(dc) can stand for either one of these 4 possibilities: add, adc, bdd, bdc.</p>

<p>Input</p>

<p>The first line of input contains 3 integers, L, D and N separated by a space. D lines follow, each containing one word of length L. These are the words that are known to exist in the alien language. N test cases then follow, each on its own line and each consisting of a pattern as described above. You may assume that all known words provided are unique.</p>

<p>Output</p>

<p>For each test case, output</p>

<p>Case #X: K<br><br>where X is the test case number, starting from 1, and K indicates how many words in the alien language match the pattern.</p>

<p>Limits</p>

<p>Small dataset</p>

<p>1 ≤ L ≤ 10<br><br>1 ≤ D ≤ 25<br><br>1 ≤ N ≤ 10<br><br>Large dataset</p>

<p>1 ≤ L ≤ 15<br><br>1 ≤ D ≤ 5000<br><br>1 ≤ N ≤ 500</p>

<p><pre lang="cpp">// CodeJamPratice.cpp : Defines the entry point for the console application.<br>//</pre></p>

<p>#include “stdafx.h”<br><br>#include <fstream><br>#include <iostream><br>#include <sstream><br>#include <string><br>#include <vector><br>#include <algorithm><br>using namespace std;</algorithm></vector></string></sstream></iostream></fstream></p>

<p>int _tmain(int argc, _TCHAR* argv[])<br><br>{<br>    freopen(“../debug/A-large-practice.in”, “r”, stdin);<br><br>    freopen(“../debug/A-large-practice.out”, “w”, stdout);</p>

<p>    string str;<br><br>    vector<string> words;</string></p>

<p>    int lenStr, numWord, numCase;<br><br>    scanf(“%d %d %d”, &amp;lenStr, &amp;numWord, &amp;numCase);<br><br>    str.resize(lenStr);<br><br>    for(int i = 0; i &lt; numWord; i++)<br><br>    {<br><br>        scanf(“%s”, &amp;str[0]);<br><br>        words.push_back(str);<br><br>    }</p>

<p>    str.resize(500);<br><br>    for(int i = 0; i &lt; numCase; i++)<br><br>    {<br><br>        scanf(“%s”, &amp;str[0]);<br><br>        int dict[26][15] = {0};<br><br>        bool isInSet = false;<br><br>        int col = 0;<br><br>        for(int j = 0; j &lt; str.length(); j++)<br><br>        {<br><br>            if(str[j] == ‘\0’) break;<br><br>            if(str[j] == ‘(‘) {isInSet = true; continue;}<br><br>            if(str[j] == ‘)’) {isInSet = false; col++; continue;}<br><br>            char c = str[j];<br><br>            dict[c - ‘a’][col] = 1;<br><br>            if(!isInSet)<br><br>                col++;<br><br>        }</p>

<p>        int num = 0;<br><br>        for(int j = 0; j &lt; numWord; j++)<br><br>        {<br><br>            bool isValid = true;<br><br>            string word = words[j];<br><br>            for(int k = 0; k &lt; lenStr; k++)<br><br>            {<br><br>                char c = word[k];<br><br>                if(dict[c - ‘a’][k] == 0)<br><br>                    isValid = false;<br><br>            }<br><br>            if(isValid)<br><br>                num++;<br><br>        }<br><br>        <br><br>        printf(“Case #%d: %d\n”, i+1, num);<br><br>    }</p>

<p>    fclose(stdin);<br><br>    fclose(stdout);<br><br>    return 0;<br><br>}</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.njiang.cn/2013/08/31/codejamproblem-b-always-turn-left/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="姜楠">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="天空の城">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="天空の城" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/08/31/codejamproblem-b-always-turn-left/" itemprop="url">
                  [CodeJam]Problem B. Always Turn Left
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-08-31T00:00:00+08:00">
              2013-08-31
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-26T16:40:34+08:00">
              2016-12-26
            </time>
            
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/08/31/codejamproblem-b-always-turn-left/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/08/31/codejamproblem-b-always-turn-left/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://code.google.com/codejam/contest/32003/dashboard#s=p1" target="_blank" rel="external">http://code.google.com/codejam/contest/32003/dashboard#s=p1</a><br>Problem</p>

<p>You find yourself standing outside of a perfect maze. A maze is defined as “perfect” if it meets the following conditions:</p>

<p>It is a rectangular grid of rooms, R rows by C columns.<br><br>There are exactly two openings on the outside of the maze: the entrance and the exit. The entrance is always on the north wall, while the exit could be on any wall.<br><br>There is exactly one path between any two rooms in the maze (that is, exactly one path that does not involve backtracking).<br><br>You decide to solve the perfect maze using the “always turn left” algorithm, which states that you take the leftmost fork at every opportunity. If you hit a dead end, you turn right twice (180 degrees clockwise) and continue. (If you were to stick out your left arm and touch the wall while following this algorithm, you’d solve the maze without ever breaking contact with the wall.) Once you finish the maze, you decide to go the extra step and solve it again (still always turning left), but starting at the exit and finishing at the entrance.</p>

<p>The path you take through the maze can be described with three characters: ‘W’ means to walk forward into the next room, ‘L’ means to turn left (or counterclockwise) 90 degrees, and ‘R’ means to turn right (or clockwise) 90 degrees. You begin outside the maze, immediately adjacent to the entrance, facing the maze. You finish when you have stepped outside the maze through the exit. For example, if the entrance is on the north and the exit is on the west, your path through the following maze would be WRWWLWWLWWLWLWRRWRWWWRWWRWLW:</p>

<p>If the entrance and exit were reversed such that you began outside the west wall and finished out the north wall, your path would be WWRRWLWLWWLWWLWWRWWRWWLW. Given your two paths through the maze (entrance to exit and exit to entrance), your code should return a description of the maze.</p>

<p>Input</p>

<p>The first line of input gives the number of cases, N. N test cases follow. Each case is a line formatted as</p>

<p>entrance_to_exit exit_to_entrance<br><br>All paths will be at least two characters long, consist only of the characters ‘W’, ‘L’, and ‘R’, and begin and end with ‘W’.</p>

<p>Output</p>

<p>For each test case, output one line containing “Case #x:” by itself. The next R lines give a description of the R by C maze. There should be C characters in each line, representing which directions it is possible to walk from that room. Refer to the following legend:</p>

<p>Character      Can walk north?      Can walk south?      Can walk west?      Can walk east?  <br><br>1    Yes    No    No    No<br><br>2    No    Yes    No    No<br><br>3    Yes    Yes    No    No<br><br>4    No    No    Yes    No<br><br>5    Yes    No    Yes    No<br><br>6    No    Yes    Yes    No<br><br>7    Yes    Yes    Yes    No<br><br>8    No    No    No    Yes<br><br>9    Yes    No    No    Yes<br><br>a    No    Yes    No    Yes<br><br>b    Yes    Yes    No    Yes<br><br>c    No    No    Yes    Yes<br><br>d    Yes    No    Yes    Yes<br><br>e    No    Yes    Yes    Yes<br><br>f    Yes    Yes    Yes    Yes<br><br>Limits</p>

<p>1 ≤ N ≤ 100.</p>

<p>Small dataset</p>

<p>2 ≤ len(entrance_to_exit) ≤ 100,<br><br>2 ≤ len(exit_to_entrance) ≤ 100.</p>

<p>Large dataset</p>

<p>2 ≤ len(entrance_to_exit) ≤ 10000,<br><br>2 ≤ len(exit_to_entrance) ≤ 10000.</p>

<p><pre lang="cpp">// CodeJamPratice.cpp : Defines the entry point for the console application.<br>//</pre></p>

<p>#include “stdafx.h”<br><br>#include <fstream><br>#include <iostream><br>#include <sstream><br>#include <string><br>#include <vector><br>using namespace std;</vector></string></sstream></iostream></fstream></p>

<p>struct Direction<br><br>{<br>    int v;<br><br>    int l;<br><br>    int r;<br><br>    int b;<br><br>public:<br><br>    Direction(int lv, int ll, int lr, int lb): v(lv), l(ll), r(lr), b(lb){}<br><br>};</p>

<p>const Direction east((1 &lt;&lt; 3), 1, (1 &lt;&lt; 1), (1 &lt;&lt; 2));<br><br>const Direction west((1 &lt;&lt; 2), (1 &lt;&lt; 1), 1, (1 &lt;&lt; 3));<br><br>const Direction south((1 &lt;&lt; 1), (1 &lt;&lt; 3), (1 &lt;&lt; 2), 1);<br><br>const Direction north(1, (1 &lt;&lt; 2), (1 &lt;&lt; 3), (1 &lt;&lt; 1));</p>

<p>static Direction cur = south;</p>

<p>int _tmain(int argc, _TCHAR* argv[])<br><br>{<br>    freopen(“../debug/B-large-practice.in”, “r”, stdin);<br><br>    freopen(“../debug/B-large-practice.out”, “w”, stdout);</p>

<p>    int numCase;<br><br>    scanf(“%d”, &amp;numCase);<br><br>    for(int c = 0; c &lt; numCase; c++)<br><br>    {<br><br>        char entrance_to_exit[10001] = {0};<br><br>        char exit_to_entrance[10001] = {0};<br><br>        scanf(“%s %s”, entrance_to_exit, exit_to_entrance);<br><br>        cur = south;<br><br>        int lmap[200][400] = {0};<br><br>        int left = 200, right = 200, bottom = 0;<br><br>        int row = -1, col = 200;<br><br>        int i = 0;<br><br>        while(entrance_to_exit[i] != ‘\0’)<br><br>        {<br><br>            char t = entrance_to_exit[i];<br><br>            switch(t)<br><br>            {<br><br>                case ‘W’: <br><br>                    {<br><br>                        lmap[row][col] |= cur.v;<br><br>                        if(entrance_to_exit[i+1] == 0) break;<br><br>                        if(cur.v == east.v) {<br><br>                            col++; <br><br>                            if(col &gt; right) right = col;<br><br>                        }else if(cur.v == west.v){<br><br>                            col–;<br><br>                            if(col &lt; left) left = col;<br><br>                        }else if(cur.v == south.v){<br><br>                            row++;<br><br>                            if(row &gt; bottom) bottom = row;<br><br>                        }else{<br><br>                            row–;<br><br>                        }<br><br>                        lmap[row][col] |= cur.b;<br><br>                        break;<br><br>                    }<br><br>                case ‘L’: <br><br>                    {<br><br>                        switch(cur.l){<br><br>                            case 1: cur = north; break;<br><br>                            case (1 &lt;&lt; 1): cur = south; break;<br><br>                            case (1 &lt;&lt; 2): cur = west; break;<br><br>                            case (1 &lt;&lt; 3): cur = east; break;<br><br>                            default: break;<br><br>                        }<br><br>                        break;<br><br>                    }<br><br>                case ‘R’: <br><br>                    {<br><br>                        if(entrance_to_exit[i+1] == ‘R’){<br><br>                            switch(cur.b){<br><br>                                case 1: cur = north; break;<br><br>                                case (1 &lt;&lt; 1): cur = south; break;<br><br>                                case (1 &lt;&lt; 2): cur = west; break;<br><br>                                case (1 &lt;&lt; 3): cur = east; break;<br><br>                                default: break;<br><br>                            }<br><br>                            i++;<br><br>                        }else{<br><br>                            switch(cur.r){<br><br>                                case 1: cur = north; break;<br><br>                                case (1 &lt;&lt; 1): cur = south; break;<br><br>                                case (1 &lt;&lt; 2): cur = west; break;<br><br>                                case (1 &lt;&lt; 3): cur = east; break;<br><br>                                default: break;<br><br>                            }<br><br>                        }<br><br>                        break;<br><br>                    }<br><br>                default: break;<br><br>            }<br><br>            i++;<br><br>        }</p>

<p>        i = 0;<br><br>        if(cur.v == east.v) {<br><br>            col++; <br><br>        }else if(cur.v == west.v){<br><br>            col–;<br><br>        }else if(cur.v == south.v){<br><br>            row++;<br><br>        }else{<br><br>            row–;<br><br>        }</p>

<p>        switch(cur.b){<br><br>            case 1: cur = north; break;<br><br>            case (1 &lt;&lt; 1): cur = south; break;<br><br>            case (1 &lt;&lt; 2): cur = west; break;<br><br>            case (1 &lt;&lt; 3): cur = east; break;<br><br>            default: break;<br><br>        }</p>

<p>        while(exit_to_entrance[i] != ‘\0’)<br><br>        {<br><br>            char t = exit_to_entrance[i];<br><br>            switch(t)<br><br>            {<br><br>                case ‘W’: <br><br>                    {<br><br>                        lmap[row][col] |= cur.v;<br><br>                        if(exit_to_entrance[i+1] == 0) break;<br><br>                        if(cur.v == east.v) {<br><br>                            col++; <br><br>                            if(col &gt; right) right = col;<br><br>                        }else if(cur.v == west.v){<br><br>                            col–;<br><br>                            if(col &lt; left) left = col;<br><br>                        }else if(cur.v == south.v){<br><br>                            row++;<br><br>                            if(row &gt; bottom) bottom = row;<br><br>                        }else{<br><br>                            row–;<br><br>                        }<br><br>                        lmap[row][col] |= cur.b;<br><br>                        break;<br><br>                    }<br><br>                case ‘L’: <br><br>                    {<br><br>                        switch(cur.l){<br><br>                            case 1: cur = north; break;<br><br>                            case (1 &lt;&lt; 1): cur = south; break;<br><br>                            case (1 &lt;&lt; 2): cur = west; break;<br><br>                            case (1 &lt;&lt; 3): cur = east; break;<br><br>                            default: break;<br><br>                        }<br><br>                        break;<br><br>                    }<br><br>                case ‘R’: <br><br>                    {<br><br>                        if(exit_to_entrance[i+1] == ‘R’){<br><br>                            switch(cur.b){<br><br>                                case 1: cur = north; break;<br><br>                                case (1 &lt;&lt; 1): cur = south; break;<br><br>                                case (1 &lt;&lt; 2): cur = west; break;<br><br>                                case (1 &lt;&lt; 3): cur = east; break;<br><br>                                default: break;<br><br>                            }<br><br>                            i++;<br><br>                        }else{<br><br>                            switch(cur.r){<br><br>                                case 1: cur = north; break;<br><br>                                case (1 &lt;&lt; 1): cur = south; break;<br><br>                                case (1 &lt;&lt; 2): cur = west; break;<br><br>                                case (1 &lt;&lt; 3): cur = east; break;<br><br>                                default: break;<br><br>                            }<br><br>                        }<br><br>                        break;<br><br>                    }<br><br>                default: break;<br><br>            }<br><br>            i++;<br><br>        }</p>

<p>        printf(“Case #%d:\n”, c+1);<br><br>        for(i = 0; i &lt;= bottom; i++)<br><br>        {<br><br>            for(int j = left; j &lt;= right; j++)<br><br>            {<br><br>                printf(“%x”, lmap[i][j]);<br><br>            }<br><br>            printf(“\n”);<br><br>        }<br><br>    }</p>

<p>    fclose(stdin);<br><br>    fclose(stdout);<br><br>    return 0;<br><br>}</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar/avatar.jpg"
               alt="姜楠" />
          <p class="site-author-name" itemprop="name">姜楠</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">117</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/njiang1987" target="_blank" title="github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  github
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">姜楠</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"njiang"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
